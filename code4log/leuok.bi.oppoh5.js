// [LEUOK_SDK]  Version: 0.6.0 - 2019-08-29 10:41:03 - Powered by Gameley.Inc  
 !function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=39)}([function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}e.exports=function(e,t,o){return t&&n(e.prototype,t),o&&n(e,o),e}},function(e,t,n){n(0);var o=n(18);function i(t,n,r){return"undefined"!=typeof Reflect&&Reflect.get?e.exports=i=Reflect.get:e.exports=i=function(e,t,n){var i=o(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(n):r.value}},i(t,n,r||t)}e.exports=i},function(e,t,n){var o=n(7),i=n(17);e.exports=function(e,t){return!t||"object"!==o(t)&&"function"!=typeof t?i(e):t}},function(e,t,n){var o=n(19);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}},function(e,t,n){"use strict";var o=n(11),i=n(21),r=Object.prototype.toString;function s(e){return"[object Array]"===r.call(e)}function a(e){return null!==e&&"object"==typeof e}function u(e){return"[object Function]"===r.call(e)}function c(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),s(e))for(var n=0,o=e.length;n<o;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:s,isArrayBuffer:function(e){return"[object ArrayBuffer]"===r.call(e)},isBuffer:i,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===r.call(e)},isFile:function(e){return"[object File]"===r.call(e)},isBlob:function(e){return"[object Blob]"===r.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:c,merge:function e(){var t={};function n(n,o){"object"==typeof t[o]&&"object"==typeof n?t[o]=e(t[o],n):t[o]=n}for(var o=0,i=arguments.length;o<i;o++)c(arguments[o],n);return t},extend:function(e,t,n){return c(t,function(t,i){e[i]=n&&"function"==typeof t?o(t,n):t}),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=o=function(e){return n(e)}:e.exports=o=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},o(t)}e.exports=o},function(e,t,n){e.exports=n(20)},function(e,t,n){"use strict";(function(t){var o=n(6),i=n(24),r={"Content-Type":"application/x-www-form-urlencoded"};function s(e,t){!o.isUndefined(e)&&o.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var a,u={adapter:("undefined"!=typeof XMLHttpRequest?a=n(12):void 0!==t&&(a=n(12)),a),transformRequest:[function(e,t){return i(t,"Content-Type"),o.isFormData(e)||o.isArrayBuffer(e)||o.isBuffer(e)||o.isStream(e)||o.isFile(e)||o.isBlob(e)?e:o.isArrayBufferView(e)?e.buffer:o.isURLSearchParams(e)?(s(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):o.isObject(e)?(s(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},o.forEach(["delete","get","head"],function(e){u.headers[e]={}}),o.forEach(["post","put","patch"],function(e){u.headers[e]=o.merge(r)}),e.exports=u}).call(this,n(23))},function(e,t,n){var o=n(16);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){o(e,t,n[t])})}return e}},function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),o=0;o<n.length;o++)n[o]=arguments[o];return e.apply(t,n)}}},function(e,t,n){"use strict";var o=n(6),i=n(25),r=n(27),s=n(28),a=n(29),u=n(13),c="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||n(30);e.exports=function(e){return new Promise(function(t,l){var h=e.data,d=e.headers;o.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest,p="onreadystatechange",g=!1;if("undefined"==typeof window||!window.XDomainRequest||"withCredentials"in f||a(e.url)||(f=new window.XDomainRequest,p="onload",g=!0,f.onprogress=function(){},f.ontimeout=function(){}),e.auth){var y=e.auth.username||"",v=e.auth.password||"";d.Authorization="Basic "+c(y+":"+v)}if(f.open(e.method.toUpperCase(),r(e.url,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,f[p]=function(){if(f&&(4===f.readyState||g)&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in f?s(f.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?f.response:f.responseText,status:1223===f.status?204:f.status,statusText:1223===f.status?"No Content":f.statusText,headers:n,config:e,request:f};i(t,l,o),f=null}},f.onerror=function(){l(u("Network Error",e,null,f)),f=null},f.ontimeout=function(){l(u("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",f)),f=null},o.isStandardBrowserEnv()){var m=n(31),I=(e.withCredentials||a(e.url))&&e.xsrfCookieName?m.read(e.xsrfCookieName):void 0;I&&(d[e.xsrfHeaderName]=I)}if("setRequestHeader"in f&&o.forEach(d,function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)}),e.withCredentials&&(f.withCredentials=!0),e.responseType)try{f.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){f&&(f.abort(),l(e),f=null)}),void 0===h&&(h=null),f.send(h)})}},function(e,t,n){"use strict";var o=n(26);e.exports=function(e,t,n,i,r){var s=new Error(e);return o(s,t,n,i,r)}},function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},function(e,t,n){"use strict";function o(e){this.message=e}o.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},o.prototype.__CANCEL__=!0,e.exports=o},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t,n){var o=n(0);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=o(e)););return e}},function(e,t){function n(t,o){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,o)}e.exports=n},function(e,t,n){"use strict";var o=n(6),i=n(11),r=n(22),s=n(9);function a(e){var t=new r(e),n=i(r.prototype.request,t);return o.extend(n,r.prototype,t),o.extend(n,t),n}var u=a(s);u.Axios=r,u.create=function(e){return a(o.merge(s,e))},u.Cancel=n(15),u.CancelToken=n(37),u.isCancel=n(14),u.all=function(e){return Promise.all(e)},u.spread=n(38),e.exports=u,e.exports.default=u},function(e,t){function n(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(n(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&n(e.slice(0,0))}(e)||!!e._isBuffer)}},function(e,t,n){"use strict";var o=n(9),i=n(6),r=n(32),s=n(33);function a(e){this.defaults=e,this.interceptors={request:new r,response:new r}}a.prototype.request=function(e){"string"==typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),(e=i.merge(o,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[s,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)n=n.then(t.shift(),t.shift());return n},i.forEach(["delete","get","head","options"],function(e){a.prototype[e]=function(t,n){return this.request(i.merge(n||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){a.prototype[e]=function(t,n,o){return this.request(i.merge(o||{},{method:e,url:t,data:n}))}}),e.exports=a},function(e,t){var n,o,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===r||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:r}catch(e){n=r}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}}();var u,c=[],l=!1,h=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&f())}function f(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(u=c,c=[];++h<t;)u&&u[h].run();h=-1,t=c.length}u=null,l=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=g,i.addListener=g,i.once=g,i.off=g,i.removeListener=g,i.removeAllListeners=g,i.emit=g,i.prependListener=g,i.prependOnceListener=g,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";var o=n(6);e.exports=function(e,t){o.forEach(e,function(n,o){o!==t&&o.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[o])})}},function(e,t,n){"use strict";var o=n(13);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(o("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},function(e,t,n){"use strict";e.exports=function(e,t,n,o,i){return e.config=t,n&&(e.code=n),e.request=o,e.response=i,e}},function(e,t,n){"use strict";var o=n(6);function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(o.isURLSearchParams(t))r=t.toString();else{var s=[];o.forEach(t,function(e,t){null!=e&&(o.isArray(e)?t+="[]":e=[e],o.forEach(e,function(e){o.isDate(e)?e=e.toISOString():o.isObject(e)&&(e=JSON.stringify(e)),s.push(i(t)+"="+i(e))}))}),r=s.join("&")}return r&&(e+=(-1===e.indexOf("?")?"?":"&")+r),e}},function(e,t,n){"use strict";var o=n(6),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,r,s={};return e?(o.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=o.trim(e.substr(0,r)).toLowerCase(),n=o.trim(e.substr(r+1)),t){if(s[t]&&i.indexOf(t)>=0)return;s[t]="set-cookie"===t?(s[t]?s[t]:[]).concat([n]):s[t]?s[t]+", "+n:n}}),s):s}},function(e,t,n){"use strict";var o=n(6);e.exports=o.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var o=e;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=o.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},function(e,t,n){"use strict";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=function(e){for(var t,n,r=String(e),s="",a=0,u=o;r.charAt(0|a)||(u="=",a%1);s+=u.charAt(63&t>>8-a%1*8)){if((n=r.charCodeAt(a+=.75))>255)throw new i;t=t<<8|n}return s}},function(e,t,n){"use strict";var o=n(6);e.exports=o.isStandardBrowserEnv()?{write:function(e,t,n,i,r,s){var a=[];a.push(e+"="+encodeURIComponent(t)),o.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),o.isString(i)&&a.push("path="+i),o.isString(r)&&a.push("domain="+r),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(e,t,n){"use strict";var o=n(6);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){o.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},function(e,t,n){"use strict";var o=n(6),i=n(34),r=n(14),s=n(9),a=n(35),u=n(36);function c(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return c(e),e.baseURL&&!a(e.url)&&(e.url=u(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=o.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),o.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||s.adapter)(e).then(function(t){return c(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return r(t)||(c(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},function(e,t,n){"use strict";var o=n(6);e.exports=function(e,t,n){return o.forEach(n,function(n){e=n(e,t)}),e}},function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},function(e,t,n){"use strict";var o=n(15);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var n=this;e(function(e){n.reason||(n.reason=new o(e),t(n.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i(function(t){e=t}),cancel:e}},e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},function(e,t,n){"use strict";n.r(t);var o=n(7),i=n.n(o),r="https://bi.log.lightlygame.com",s="https://test.gw.leuok.com/bilog/",a=100603,u=8001,c={setEnv:function(e){e.gameId||console.error("LEUOK","---\x3e","配置文件出错","缺少gameId"),!0===e.multiRegion&&console.warn("LEUOK","多区服游戏"),e.env="dev"===e.env?"dev":"prod",console.log("LEUOK","BI环境",e.env),e.log=!0===e.log,e.adURL="https://bi.log.lightlygame.com/adchannellog/",e.url="dev"===e.env?s:r,e.cdbURL="https://gw.lightlygame.com/gl-ms-single-server",e.adlog=!1!==e.adlog,e.bilog=!1!==e.bilog,e.multiRegion=!0===e.multiRegion},getRandom:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},getUUID:function(){for(var e="",t=0;t<8;t++)e+=this.getRandom();return e},dateFormat:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-MM-dd hh:mm:ss",n={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var o in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+o+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?n[o]:("00"+n[o]).substr((""+n[o]).length)));return t},toLogStr:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("|")},getPlat:function(){return"object"==("undefined"==typeof qq?"undefined":i()(qq))?(console.info("LEUOK current plat qq"),qq):"object"==("undefined"==typeof qg?"undefined":i()(qg))?(console.info("LEUOK current plat qg"),qg):"object"==("undefined"==typeof wx?"undefined":i()(wx))?(console.info("LEUOK current plat wx"),wx):"object"==("undefined"==typeof BK?"undefined":i()(BK))?(console.info("LEUOK current plat BK"),BK):"object"==("undefined"==typeof tt?"undefined":i()(tt))?(console.info("LEUOK current plat tt"),tt):"object"==("undefined"==typeof window?"undefined":i()(window))?(console.info("LEUOK current plat window"),window):void 0},log:function(){if(this.getPlat().leuok.conf.log){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];(e=console).info.apply(e,["LEUOK"].concat(n))}}},l=n(10),h=n.n(l),d=n(1),f=n.n(d),p=n(2),g=n.n(p),y=n(4),v=n.n(y),m=n(0),I=n.n(m),b=n(3),w=n.n(b),S=n(5),O=n.n(S),T=function(){function e(t,n){f()(this,e),this.uuid=t.userInfo.uuid||"",this.uid=n.uid||t.userInfo.uuid||"",this.platId=t.platId||0,this.regionId=n.regionId||t.regionId||0,this.channelId=t.userInfo.biChannelId||0,this.dt=c.dateFormat(new Date,"yyyy-MM-dd hh:mm:ss"),this.logTag=0,this.gender=t.userProfile.gender||0,this.country=t.userProfile.country||"",this.province=t.userInfo.ext.province||t.userProfile.province||"",this.city=t.userProfile.city||"",this.language=t.userProfile.language||"zh_CN"}return g()(e,[{key:"toString",value:function(){return"".concat(this.uuid,"|").concat(this.uid,"|").concat(this.platId,"|").concat(this.regionId,"|").concat(this.channelId,"|").concat(this.dt)}},{key:"toStringProfile",value:function(){return c.toLogStr(this.gender,this.country,this.province,this.city,this.language)}}]),e}(),k=function(e){function t(e,n){var o;return f()(this,t),(o=v()(this,I()(t).call(this,e,n))).regDt=e.userInfo.regDt||"",o.reged=0,o.level=n.level||0,o.vip=n.vip||0,o.payed=n.payed||0,o}return O()(t,e),g()(t,[{key:"toString",value:function(){return w()(I()(t.prototype),"toString",this).call(this)+"|"+this.regDt+"|"+this.level+"|"+this.reged+"|"+this.vip+"|"+this.payed}}]),t}(T),q=function(){function e(t){f()(this,e),this.deviceId=t.userInfo.deviceId||t.userInfo.uuid||"",this.ip=t.ip||"1.1.1.1",this.clientVersion=t.version||"",this.systemSoftware=t.system||"",this.systemHardware=t.model||"",this.comOperation=t.comOperation||0,this.network=t.network||0,this.cpuHardware=t.cpuHardware||"",this.gpuHardware=t.gpuHardware||"",this.memory=t.memory||0,this.screenWidth=t.screenWidth||0,this.screenHeight=t.screenHeight||0,this.density=t.pixelRatio||0,this.glRender=t.glRender||"",this.glVersion=t.glVersion||"",this.phoneNumber=t.phoneNumber||""}return g()(e,[{key:"toString",value:function(){return this.deviceId+"|"+this.ip+"|"+this.clientVersion+"|"+this.systemSoftware+"|"+this.systemHardware+"|"+this.comOperation+"|"+this.network+"|"+this.cpuHardware+"|"+this.gpuHardware+"|"+this.memory+"|"+this.screenWidth+"|"+this.screenHeight+"|"+this.density+"|"+this.glRender+"|"+this.glVersion+"|"+this.phoneNumber}}]),e}(),L=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_reg",e.dt=n.userInfo.regDt||e.dt,e.device=new q(n),e.reged=0,e.level=o.level||0,e.scene=n.launchOption.scene||"",e.source_appid=n.launchOption.referrerInfo&&n.launchOption.referrerInfo.appId||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return"".concat(this.logType,"|").concat(w()(I()(t.prototype),"toString",this).call(this),"|").concat(this.level,"|").concat(this.reged,"|").concat(this.device.toString(),"|").concat(this.scene,"|").concat(this.source_appid,"|").concat(w()(I()(t.prototype),"toStringProfile",this).call(this))}}]),t}(T),N=function(e){function t(e,n){var o;return f()(this,t),(o=v()(this,I()(t).call(this,e,n))).gameId=e.gameId,o}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.uuid+"|"+this.uid+"|"+this.gameId+"|"+this.platId+"|"+this.regionId+"|"+this.channelId+"|"+this.dt}},{key:"toStringRegU",value:function(){return c.toLogStr(this.uuid,this.gameId,this.platId,this.channelId,this.dt)}}]),t}(T),x=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_reg_u",e.dt=n.userInfo.regDt||e.dt,e.device=new q(n),e.scene=n.launchOption.scene||"",e.source_appid=n.launchOption.referrerInfo&&n.launchOption.referrerInfo.appId||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toStringRegU",this).call(this),this.scene,this.source_appid,w()(I()(t.prototype),"toStringProfile",this).call(this))}}]),t}(N),P=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).device=new q(n),e.logType="log_login",e.type=o.type||0,e.friendsNum=o.friendsNum||0,e.online=o.online||0,e.power=o.power||0,e.energy=o.energy||0,e.guildId=o.guildId||0,e.roleName=o.roleName||"",e.scene=n.launchOption.scene||"",e.source_appid=n.launchOption.referrerInfo&&n.launchOption.referrerInfo.appId||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toString",this).call(this),this.device.toString(),this.type,this.friendsNum,this.online,this.power,this.energy,this.guildId,this.roleName,this.scene,this.source_appid,w()(I()(t.prototype),"toStringProfile",this).call(this))}}]),t}(k),E=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_login_u",e.device=new q(n),e.scene=n.launchOption.scene||"",e.source_appid=n.launchOption.referrerInfo&&n.launchOption.referrerInfo.appId||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toStringRegU",this).call(this),this.scene,this.source_appid,w()(I()(t.prototype),"toStringProfile",this).call(this))}}]),t}(N),U=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_share_in",e.newPlayer=n.isReg?1:0,e.type=o.type||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return"".concat(this.logType,"|").concat(w()(I()(t.prototype),"toString",this).call(this),"|").concat(this.type,"|").concat(this.newPlayer)}}]),t}(k),_=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_share_out",e.type=o.type||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return"".concat(this.logType,"|").concat(w()(I()(t.prototype),"toString",this).call(this),"|").concat(this.type)}}]),t}(k),R=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_ad_video",e.type=o.type||0,e.subType=o.subType||0,e.battle=o.battle||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return"".concat(this.logType,"|").concat(w()(I()(t.prototype),"toString",this).call(this),"|").concat(this.type,"|").concat(this.subType,"|").concat(this.battle)}}]),t}(k),D=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_action",e.level=o.level||0,e.reged=0,e.device=new q(n),e.type=o.type||2,e.actionType=o.actionType||0,e.actionNumber=o.actionNumber||0,e.g1=o.g1||0,e.g2=o.g2||0,e.g3=o.g3||0,e.g4=o.g4||0,e.g5=o.g5||0,e.g6=o.g6||0,e.s3=o.s3||"",e.s4=o.s4||"",e.s5=o.s5||"",e.s6=o.s6||"",1===e.actionType&&999999===e.actionNumber?(e.s1=n.launchOption.scene||"",e.s2=n.launchOption.referrerInfo&&n.launchOption.referrerInfo.appId||""):(e.s1=o.s1||"",e.s2=o.s2||""),e}return O()(t,e),g()(t,[{key:"toString",value:function(){return[this.logType,w()(I()(t.prototype),"toString",this).call(this),this.level,this.reged,this.device.toString(),this.type,this.actionType,this.actionNumber,this.g1,this.g2,this.g3,this.g4,this.g5,this.g6,this.s1,this.s2,this.s3,this.s4,this.s5,this.s6,w()(I()(t.prototype),"toStringProfile",this).call(this)].join("|")}}]),t}(N),C=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_app_once",e.device=new q(n),e.level=o.level||0,e.reged=0,e.actionNumber=o.actionNumber||0,e.scene=n.launchOption.scene||"",e.source_appid=n.launchOption.referrerInfo&&n.launchOption.referrerInfo.appId||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.level+"|"+this.reged+"|"+this.device.toString()+"|"+this.actionNumber+"|"+this.scene+"|"+this.source_appid+"|"+w()(I()(t.prototype),"toStringProfile",this).call(this)}}]),t}(N),j=function(e){function t(e,n){var o;return f()(this,t),(o=v()(this,I()(t).call(this,e,n))).sequenceId=n.sequenceId||0,o.reason=n.reason||0,o.subReason=n.subReason||0,o}return O()(t,e),g()(t,[{key:"toString",value:function(){return w()(I()(t.prototype),"toString",this).call(this)+"|"+this.sequenceId+"|"+this.reason+"|"+this.subReason}}]),t}(k),K=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_battle",e.type=o.logType||0,e.battleType=o.battleType||0,e.battleId=o.battleId||0,e.time=o.time||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.type+"|"+this.battleType+"|"+this.battleId+"|"+this.time}}]),t}(j),B=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_energy",e.old=o.old||0,e.new=o.new||0,e.addOrReduce=e.new>e.old?1:0,e.energy=Math.abs(e.new-e.old),e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toString",this).call(this),this.addOrReduce,this.old,this.new,this.energy)}}]),t}(j),M=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_equip",e.addOrReduce=o.addOrReduce||0,e.equipType=o.equipType||0,e.equipId=o.equipId||0,e.num=o.num||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.addOrReduce+"|"+this.equipType+"|"+this.equipId+"|"+this.num}}]),t}(j),A=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_equip_degree",e.equipType=o.equipType||0,e.equipId=o.equipId||0,e.equipOldDegree=o.equipOldDegree||0,e.equipNewDegree=o.equipNewDegree||0,e.equipDegree=Math.abs(e.equipOldDegree-e.equipNewDegree),e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.equipType+"|"+this.equipId+"|"+this.equipOldDegree+"|"+this.equipNewDegree+"|"+this.equipDegree}}]),t}(j),X=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_equip_level",e.equipType=o.equipType||0,e.equipId=o.equipId||0,e.equipOldLevel=o.equipOldLevel||0,e.equipNewLevel=o.equipNewLevel||0,e.equipLevel=Math.abs(e.equipOldLevel-e.equipNewLevel),e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.equipType+"|"+this.equipId+"|"+this.equipOldLevel+"|"+this.equipNewLevel+"|"+this.equipLevel}}]),t}(j),F=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_equip_playway",e.equipType=o.equipType||0,e.equipId=o.equipId||0,e.equipOldLevel=o.equipOldLevel||0,e.equipNewLevel=o.equipNewLevel||0,e.equipLevel=Math.abs(e.equipOldLevel-e.equipNewLevel),e.playType=o.playType||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.equipType+"|"+this.equipId+"|"+this.equipOldLevel+"|"+this.equipNewLevel+"|"+this.equipLevel+"|"+this.playType}}]),t}(j),H=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_friends",e.old=o.old||0,e.new=o.new||0,e.addOrReduce=e.new>e.old?1:0,e.friends=Math.abs(e.new-e.old),e.type=o.type||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toString",this).call(this),this.addOrReduce,this.old,this.new,this.friends,this.type)}}]),t}(k),J=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_item",e.itemType=o.itemType||0,e.itemId=o.itemId||0,e.oldNum=o.oldNum||0,e.newNum=o.newNum||0,e.num=Math.abs(e.oldNum-e.newNum),e.addOrReduce=e.newNum>e.oldNum?1:0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.addOrReduce+"|"+this.itemType+"|"+this.itemId+"|"+this.oldNum+"|"+this.newNum+"|"+this.num}}]),t}(j),V=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType=o.logType||"x_event",e.extends=o.extends||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return"".concat(this.logType,"|").concat(w()(I()(t.prototype),"toString",this).call(this),"|").concat(this.extends)}}]),t}(k),z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_level",e.heroId=o.heroId||0,e.newLevel=o.newLevel||0,e.num=Math.abs(e.newLevel-e.level),e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.heroId+"|"+this.newLevel+"|"+this.num}}]),t}(j),$=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_money",e.oldMoney=o.oldMoney||0,e.newMoney=o.newMoney||0,e.money=Math.abs(e.oldMoney-e.newMoney),e.num=o.num||0,e.addOrReduce=e.newMoney>e.oldMoney?1:0,e.moneyType=o.moneyType||0,e.itemIdName=o.itemIdName||"",e.itemType=o.itemType||0,e.itemId=o.itemId||"",e.shop=o.shop||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toString",this).call(this),this.oldMoney,this.newMoney,this.money,this.num,this.addOrReduce,this.moneyType,this.itemIdName,this.itemType,this.itemId,this.shop)}}]),t}(j),W=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_new_task",e.taskId=o.taskId||0,e.orderId=o.orderId||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.taskId+"|"+this.orderId}}]),t}(j),G=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_pay",e.regDt=n.userInfo.regDt||"",e.level=o.level||0,e.reged=0,e.vip=o.vip||0,e.payType=o.payType||0,e.orderNumber=o.orderNumber||"",e.dPrice=o.dPrice||0,e.dStoreNum=o.dStoreNum||0,e.totalNum=o.totalNum||0,e.fPayFlag=o.fPayFlag||0,e.payChannelId=o.payChannelId||0,e.payId=o.payId||0,e.payIdName=o.payIdName||"",e.dNum=o.dNum||0,e.dBeforeStoreNum=o.dBeforeStoreNum||0,e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.regDt+"|"+this.level+"|"+this.reged+"|"+this.vip+"|"+this.payType+"|"+this.orderNumber+"|"+this.dPrice+"|"+this.dStoreNum+"|"+this.totalNum+"|"+this.fPayFlag+"|"+this.payChannelId+"|"+this.payId+"|"+this.payIdName+"|"+this.dNum+"|"+this.dBeforeStoreNum+"|"+w()(I()(t.prototype),"toStringProfile",this).call(this)}}]),t}(T),Y=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_power",e.old=o.old||0,e.new=o.new||0,e.addOrReduce=e.new>e.old?1:0,e.power=Math.abs(e.new-e.old),e}return O()(t,e),g()(t,[{key:"toString",value:function(){return c.toLogStr(this.logType,w()(I()(t.prototype),"toString",this).call(this),this.addOrReduce,this.old,this.new,this.power)}}]),t}(j),Z=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f()(this,t),(e=v()(this,I()(t).call(this,n,o))).logType="log_task",e.taskType=o.taskType||0,e.taskId=o.taskId||"",e}return O()(t,e),g()(t,[{key:"toString",value:function(){return this.logType+"|"+w()(I()(t.prototype),"toString",this).call(this)+"|"+this.taskType+"|"+this.taskId}}]),t}(j),Q=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f()(this,e),this.logType="error",this.gameId=t.gameId,this.channelId=t.userInfo.biChannelId||0,this.dt=c.dateFormat(new Date),this.regDt=t.userInfo.regDt||"",this.openId=t.userInfo.uuid||0,this.errorType=n.errorType||"video",this.errCode=n.errCode||0,this.logTag=1,this.sdkVersion=t.sdkVersion},ee=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};f()(this,e);var i=o.getLaunchOptionsSync();this.sysInfo={isReg:!1,cdbStatus:2,platId:1,userInfo:{deviceId:c.getUUID(),isFromAd:i.query.hasOwnProperty("adChannelId"),regDt:c.dateFormat(new Date),actionNumbers:[],cdbSuccess:!1,biChannelId:1000401,adChannelId:i.query.adChannelId||0,adSubChannelId:i.query.adSubChannelId||0,ext:{}},start:new Date,launchOption:i,sdkVersion:"0.6.0",userProfile:{}},o.getUserInfo&&o.getUserInfo().then(function(e){t.sysInfo.userProfile=e}),this.status={},this.request=n,this.conf={},this.adapter=o,this.cdb={},this.init=function(){}}return g()(e,[{key:"action",value:function(e){console.info("LEUOK 开始发送action日志"),this.checkParam(e,"行为日志 action","actionType","actionNumber")&&this.sendX(D,e)}},{key:"adVideo",value:function(e){this.checkParam(e,"视频广告日志 AdVideo","type","subType")&&this.sendX(R,e)}},{key:"appOnce",value:function(e){this.checkParam(e,"AppOnce日志 AppOnce","actionNumber")&&c.dateFormat(new Date,"yyyy-MM-dd")===this.sysInfo.userInfo.regDt.substring(0,10)&&!this.sysInfo.userInfo.actionNumbers.includes(e.actionNumber)&&(this.sysInfo.userInfo.actionNumbers.push(e.actionNumber),this.sendX(C,e),this.adapter.setStorage("LEUOK_BI_SDK_UUID",this.sysInfo.userInfo))}},{key:"battle",value:function(e){this.checkParam(e,"闯关日志 Battle","logType","battleType","battleId")&&this.sendX(K,e)}},{key:"equip",value:function(e){this.checkParam(e,"装备日志 Equip","sequenceId","reason","equipType","equipId","num","addOrReduce")&&this.sendX(M,e)}},{key:"equipDegree",value:function(e){this.checkParam(e,"装备升阶日志 EquipDegree","equipType","equipId","equipOldDegree","equipNewDegree")&&this.sendX(A,e)}},{key:"equipLevel",value:function(e){this.checkParam(e,"装备升级日志 EquipLevel","equipType","equipId","equipOldLevel","equipNewLevel")&&this.sendX(X,e)}},{key:"equipPlayWay",value:function(e){this.checkParam(e,"装备玩法日志 EquipPlayWay","equipType","equipId","equipOldLevel","equipNewLevel","playType")&&this.sendX(F,e)}},{key:"friends",value:function(e){this.checkParam(e,"好友日志 Friends","old","new","type")&&this.sendX(H,e)}},{key:"item",value:function(e){this.checkParam(e,"道具日志 Item","reason","itemType","itemId","oldNum","newNum")&&this.sendX(J,e)}},{key:"level",value:function(e){this.checkParam(e,"升级日志 Level","level","newLevel")&&this.sendX(z,e)}},{key:"login",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(console.info("LEUOK 开始发送login日志"),!0===this.conf.multiRegion){if(!0===e.onShow)return void this.loginU();this.sysInfo.start=new Date,this.sysInfo.regionId=e.regionId||0}e.type=1,this.sysInfo.regionId<1e6?console.error("LEUOK","登陆日志区服ID没有或小于1000000"):this.checkParam(e,"登录日志")&&this.sendX(P,e)}},{key:"loginU",value:function(e){this.checkParam(e,"登录日志")&&this.sendX(E,e)}},{key:"logout",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new Date;e.type=0,e.online=Math.ceil((t.getTime()-this.sysInfo.start.getTime())/1e3),this.sendX(P,e)}},{key:"money",value:function(e){if(this.checkParam(e,"money日志 Money","reason","oldMoney","newMoney","moneyType")){if(e.shop&&1===e.shop&&this.checkParam(e,"money日志 Money","itemType","itemId","num"))return void this.sendX($,e);this.sendX($,e)}}},{key:"newTask",value:function(e){this.checkParam(e,"强制任务日志 NewTask","taskId","regionId")&&this.sendX(W,e)}},{key:"pay",value:function(e){this.checkParam(e,"充值日志 Pay","payType","orderNumber","dPrice","dStoreNum","totalNum","fPayFlag","dNum","dBeforeStoreNum","payId")&&this.sendX(G,e)}},{key:"power",value:function(e){this.checkParam(e,"战力日志 Power","old","new")&&this.sendX(Y,e)}},{key:"reg",value:function(e){if(!0===this.conf.multiRegion){if(!0===e.onShow)return void this.regU();this.sysInfo.regionId=e.regionId||0}this.sysInfo.regionId<1e6?console.error("LEUOK","登陆日志区服ID没有或小于1000000"):this.checkParam(e,"注册日志")&&this.sendX(L,e)}},{key:"regU",value:function(e){this.checkParam(e,"注册日志")&&this.sendX(x,e)}},{key:"sharedIn",value:function(e){this.checkParam(e,"分享入日志 SharedIn","type")&&this.sendX(U,e)}},{key:"sharedOut",value:function(e){this.checkParam(e,"分享出日志 SharedOut","type")&&this.sendX(_,e)}},{key:"task",value:function(e){this.checkParam(e,"非强制任务日志 Task","taskType","taskId")&&this.sendX(Z,e)}},{key:"event",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];if(this.checkParam(o,"自定义日志")){new k(this.sysInfo,t);this.sendX(V,Object.assign(t,{logType:e,extends:o.join("|")}))}}},{key:"energy",value:function(e){this.checkParam(e,"体力日志 Energy","old","new")&&this.sendX(B,e)}},{key:"adLogin",value:function(){}},{key:"error",value:function(e){this.checkParam(e,"上传错误日志 error","errorType","errCode")&&this.sendX(Q,e)}},{key:"sendX",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;if(this.conf.bilog){var i=new e(this.sysInfo,t);if(["log_app_once","error"].includes(i.logType)||"log_action"===i.logType&&1===t.actionType)return c.log("开始发送bilog",i.logType,"......"),void this.request.post(0===i.logTag?this.conf.url:this.conf.adURL,i,{"Content-Type":"text/plain"});if(1===this.sysInfo.cdbStatus)return c.log("开始发送bilog",i.logType,"......"),void this.request.post(0===i.logTag?this.conf.url:this.conf.adURL,new e(this.sysInfo,t),{"Content-Type":0===i.logTag?"text/plain":"application/json"});if(0===this.sysInfo.cdbStatus)return console.warn("LEUOK","发送BI","bi日志",i.logType,"失败 CDB开始登录重试"),void this.cdbLogin();--o>=0&&(console.warn("LEUOK","CDB正在登录中 --\x3e","bi日志",i.logType,"3秒后重试第",3-o,"次"),setTimeout(function(){n.sendX(e,t,o)},2e3))}else c.log("注意：程序配置不发送BI日志")}},{key:"getLocalData",value:function(e){var t=this.adapter.getStorageSync("LEUOK_BI_SDK_UID");t&&console.info("LEUOK","云存储签名",JSON.stringify(t),t);var n=this.adapter.getStorageSync("LEUOK_BI_SDK_UUID");n&&!0===n.cdbSuccess?(Object.assign(this.sysInfo.userInfo,n),this.sysInfo.cdbStatus=1):(Object.assign(this.sysInfo.userInfo,n||{}),this.cdbLogin(e))}},{key:"cdbLogin",value:function(e){var t=this;this.sysInfo.cdbStatus=2,console.info("LEUOK 进入cdbLogin方法"),this.adapter.getAuthCode().then(function(e){return t.cdb.uid&&t.cdb.token?Promise.resolve({data:{state:0,info:t.cdb}}):(console.info("LEUOK CDB 开始登录 res:"+JSON.stringify(Object.assign(e,{gameId:t.sysInfo.gameId,channelId:t.sysInfo.cdbChannelId,platId:t.sysInfo.platId}))+" url:"+t.conf.cdbURL+"/api/user/login"),t.request.cdb(t.conf.cdbURL+"/api/user/login",Object.assign(e,{gameId:t.sysInfo.gameId,channelId:t.sysInfo.cdbChannelId,platId:t.sysInfo.platId}),{method:"post"}))}).then(function(e){if(console.info("LEUOK CDB 登录成功 res:"+JSON.stringify(e)),0===e.data.state){t.cdb=e.data.info,t.getProvince(),t.sysInfo.userInfo.openId=e.data.info.openId||t.sysInfo.userInfo.uuid,t.sysInfo.userInfo.uuid||(t.sysInfo.userInfo.uuid=e.data.info.openId),t.appOnce({actionNumber:999998});var n=h()({},t.cdb,{gameId:t.sysInfo.gameId,channelId:t.sysInfo.cdbChannelId});return console.info("LEUOK","云存储登录成功--签名:",JSON.stringify(n)),t.adapter.setStorage("LEUOK_BI_SDK_UID",n),t.request.cdb(t.conf.cdbURL+"/api/userCloudData/getSelfData",{platId:t.sysInfo.platId,key:999,sdType:0},{header:n})}return Promise.reject("cdb登录失败 ---\x3e "+e.data.msg)}).then(function(n){if(console.info("CDB 登录成功2 res:"+JSON.stringify(n)),0!==n.data.state)return Promise.reject("cdb获取key数据失败"+n.data.msg);if(t.appOnce({actionNumber:999997}),null===n.data.info||"null"===n.data.info){t.sysInfo.isReg=!0,["wx","qzone"].includes("oppoh5")&&t.sysInfo.launchOption.query.adChannelId&&Object.assign(t.sysInfo.userInfo,{isFromAd:!0,adChannelId:t.sysInfo.launchOption.query.adChannelId,adSubChannelId:t.sysInfo.launchOption.query.adSubChannelId});var o=JSON.parse(JSON.stringify(t.sysInfo.userInfo));delete o.actionNumbers,delete o.cdbSuccess,delete o.ext;var i=function(){return t.request.cdb(t.conf.cdbURL+"/api/userCloudData/setSelfNormalData",{platId:t.sysInfo.platId,key:999,value:JSON.stringify(o)},{header:{gameId:t.sysInfo.gameId,channelId:t.sysInfo.cdbChannelId,uid:t.cdb.uid,token:t.cdb.token}})};i().then(function(e){0!==e.data.state&&console.error("LEUOK","存储数据失败 重试",e.data.msg)}).catch(function(e){console.error("LEUOK","存储数据失败 重试",e),setTimeout(function(){i()},2e3)})}else{var r=JSON.parse(n.data.info);Object.assign(t.sysInfo.userInfo,r),r.biChannelId||(t.sysInfo.userInfo.biChannelId=t.sysInfo.channelId)}t.sysInfo.cdbStatus=1,t.sysInfo.userInfo.cdbSuccess=!0,t.sysInfo.isReg&&(t.reg({onShow:!0}),t.level({level:0,newLevel:0}),t.friends({old:0,new:0,type:0}),t.energy({old:0,new:0}),t.power({old:0,new:0})),t.adapter.setStorage("LEUOK_BI_SDK_UUID",h()({},t.sysInfo.userInfo)),t.login({onShow:!0}),e?(console.info("LEUOK 开始执行init回调"),e()):console.info("LEUOK 不需要执行init回调"),console.info("LEUOK 执行完登录所有流程")}).catch(function(e){t.sysInfo.cdbStatus=0,console.error("LEUOK","CDB登录失败22",JSON.stringify(e))})}},{key:"getProvince",value:function(){var e=this;this.request.cdb(this.conf.cdbURL+"/api/userCloudData/getLocation",{},{header:{gameId:this.sysInfo.gameId,channelId:this.sysInfo.cdbChannelId,uid:this.cdb.uid,token:this.cdb.token}}).then(function(t){t.data.ok&&t.data.info&&(e.sysInfo.userInfo.ext.province=t.data.info.name)})}},{key:"checkParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var n in e)"string"==typeof e[n]&&(e[n]=e[n].replace(/\|/g,""));for(var o=arguments.length,i=new Array(o>2?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];for(var s=0;s<i.length;s++){var a=i[s];if(!e.hasOwnProperty(a))return console.error(t+"缺少必要参数 ----\x3e"+a),!1}return!0}},{key:"clear",value:function(){var e=this;this.adapter.getAuthCode().then(function(t){return e.cdb.uid&&e.cdb.token?Promise.resolve({data:{state:0,info:e.cdb}}):e.request.cdb(e.conf.cdbURL+"/api/user/login",Object.assign(t,{gameId:e.sysInfo.gameId,channelId:e.sysInfo.cdbChannelId,platId:e.sysInfo.platId}))}).then(function(t){0===t.data.state?(e.cdb=t.data.info,e.request.cdb(e.conf.cdbURL+"/api/userCloudData/setSelfNormalData",{platId:e.sysInfo.platId,key:999,value:"null"},{header:{gameId:e.sysInfo.gameId,channelId:e.sysInfo.cdbChannelId,uid:e.cdb.uid,token:e.cdb.token}}),e.adapter.removeStorage("LEUOK_BI_SDK_UID"),e.adapter.removeStorage("LEUOK_BI_SDK_UUID")):console.error("LEUOK","清除失败")})}}]),e}(),te=n(8),ne=n.n(te),oe=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;f()(this,e),this.retryCount=t,this.delay=n}return g()(e,[{key:"post",value:function(e,t){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.retryCount;t=0===t.logTag?t.toString():t,ne.a.post(e,t,{headers:o}).then(function(){c.log("成功发送".concat(0===t.logTag?"bilog":"adlog"),t.logType,t)}).catch(function(r){i>0&&(i--,console.warn("LEUOK","发送",t.logType,"日志失败","原因 --\x3e",r,"".concat(n.delay,"秒后重试第"),3-i,"次"),setTimeout(function(){n.post(e,t,o,i)},1e3*n.delay))})}},{key:"cdb",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return console.info("发起cdb请求 url:"+e+" data:"+JSON.stringify(t)+" axios:"+ne.a),ne()({method:n.method||"post",url:e,data:t,headers:n.header||{"content-type":"application/json"}})}}]),e}(),ie={getAuthCode:function(){return new Promise(function(e,t){e({data:JSON.stringify({openId:window.leuok.sysInfo.userInfo.uuid,openKey:window.leuok.sysInfo.openKey,gender:0})})})},getStorageSync:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){}return t},setStorage:function(e,t){"object"!==i()(t)?localStorage.setItem(e,t):localStorage.setItem(e,JSON.stringify(t))},getLaunchOptionsSync:function(){return{}},removeStorage:function(e){localStorage.removeItem(e)}};console.log("LEUOK Build version: 0.6.0 - 2019-08-29T02:40:59.709Z - Powered by Gameley.Inc "),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),o=1;o<arguments.length;o++){var i=arguments[o];if(null!=i)for(var r=Object.keys(Object(i)),s=0,a=r.length;s<a;s++){var u=r[s],c=Object.getOwnPropertyDescriptor(i,u);void 0!==c&&c.enumerable&&(n[u]=i[u])}}return n}}),window.leuok=new ee(new oe(3,3),ie),window.leuok.init=function(e){c.setEnv(e),e.openId&&e.openKey?(this.conf=e,this.sysInfo.userInfo.uuid=e.openId,this.sysInfo.userInfo.biChannelId=a,Object.assign(this.sysInfo,{openKey:e.openKey,gameId:e.gameId||0,platId:3,channelId:a,cdbChannelId:u}),this.conf.multiRegion||(this.sysInfo.regionId="".concat(e.gameId,"010001")),this.getLocalData(),this.adapter.getStorageSync(SDK_UUID_KEY)||this.appOnce({actionNumber:999999})):console.error("LEUOK","配置缺少openId或openKey")}}]); 